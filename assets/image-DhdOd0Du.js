import{j as w}from"./jsx-runtime-CS_Wz6c_.js";import{r as p}from"./index-Dy2Ak0OH.js";import{u as T}from"./index-BO-m7dRh.js";import{u as U}from"./provider-context-DmA892L5.js";import{m as q,f as G}from"./utils-Dl_53iLP.js";import{t as H}from"./tv-DvaQJQTB.js";import{u as J}from"./dom-DrLNPp_C.js";import{o as Q}from"./functions-CkCEVJeD.js";import{c as R}from"./clsx-IIdnr2mY.js";import{d as Z}from"./assertion-BI5aukJI.js";const C=H({slots:{wrapper:"relative shadow-black/5",zoomedWrapper:"relative overflow-hidden rounded-inherit",img:"relative z-10 opacity-0 shadow-black/5 data-[loaded=true]:opacity-100",blurredImg:["absolute","z-0","inset-0","w-full","h-full","object-cover","filter","blur-lg","scale-105","saturate-150","opacity-30","translate-y-1"]},variants:{radius:{none:{},sm:{},md:{},lg:{},full:{}},shadow:{none:{wrapper:"shadow-none",img:"shadow-none"},sm:{wrapper:"shadow-small",img:"shadow-small"},md:{wrapper:"shadow-medium",img:"shadow-medium"},lg:{wrapper:"shadow-large",img:"shadow-large"}},isZoomed:{true:{img:["object-cover","transform","hover:scale-125"]}},showSkeleton:{true:{wrapper:["group","relative","overflow-hidden","bg-content3 dark:bg-content2"],img:"opacity-0"}},disableAnimation:{true:{img:"transition-none"},false:{img:"transition-transform-opacity motion-reduce:transition-none !duration-300"}}},defaultVariants:{radius:"lg",shadow:"none",isZoomed:!1,isBlurred:!1,showSkeleton:!1},compoundVariants:[{showSkeleton:!0,disableAnimation:!1,class:{wrapper:["before:opacity-100","before:absolute","before:inset-0","before:-translate-x-full","before:animate-[shimmer_2s_infinite]","before:border-t","before:border-content4/30","before:bg-gradient-to-r","before:from-transparent","before:via-content4","dark:before:via-default-700/10","before:to-transparent","after:opacity-100","after:absolute","after:inset-0","after:-z-10","after:bg-content3","dark:after:bg-content2"]}}],compoundSlots:[{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"none",class:"rounded-none"},{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"full",class:"rounded-full"},{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"sm",class:"rounded-small"},{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"md",class:"rounded-md"},{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"lg",class:"rounded-large"}]});function X(n){const d=U(),[r,g]=q(n,C.variantKeys),{ref:v,as:l,src:a,className:m,classNames:e,loading:f,isBlurred:I,fallbackSrc:t,isLoading:u,disableSkeleton:b=!!t,removeWrapper:o=!1,onError:h,onLoad:E,srcSet:k,sizes:y,crossOrigin:x,...c}=r,S=T({src:a,loading:f,onError:h,onLoad:E,ignoreFallback:!1,srcSet:k,sizes:y,crossOrigin:x}),z=n.disableAnimation??(d==null?void 0:d.disableAnimation)??!1,W=S==="loaded"&&!u,j=S==="loading"||u,$=n.isZoomed,M=l||"img",P=J(v),{w:A,h:V}=p.useMemo(()=>({w:r.width?typeof r.width=="number"?`${r.width}px`:r.width:"fit-content",h:r.height?typeof r.height=="number"?`${r.height}px`:r.height:"auto"}),[r==null?void 0:r.width,r==null?void 0:r.height]),B=(!a||!W)&&!!t,L=j&&!b,s=p.useMemo(()=>C({...g,disableAnimation:z,showSkeleton:L}),[Q(g),z,L]),D=R(m,e==null?void 0:e.img),F=(i={})=>{const K=R(D,i==null?void 0:i.className);return{src:a,ref:P,"data-loaded":Z(W),className:s.img({class:K}),loading:f,srcSet:k,sizes:y,crossOrigin:x,...c,style:{...(c==null?void 0:c.height)&&{height:V},...i.style,...c.style}}},O=p.useCallback(()=>{const i=B?{backgroundImage:`url(${t})`}:{};return{className:s.wrapper({class:e==null?void 0:e.wrapper}),style:{...i,maxWidth:A}}},[s,B,t,e==null?void 0:e.wrapper,A]),_=p.useCallback(()=>({src:a,"aria-hidden":Z(!0),className:s.blurredImg({class:e==null?void 0:e.blurredImg})}),[s,a,e==null?void 0:e.blurredImg]);return{Component:M,domRef:P,slots:s,classNames:e,isBlurred:I,disableSkeleton:b,fallbackSrc:t,removeWrapper:o,isZoomed:$,isLoading:j,getImgProps:F,getWrapperProps:O,getBlurredImgProps:_}}const Y=G((n,d)=>{const{Component:r,domRef:g,slots:v,classNames:l,isBlurred:a,isZoomed:m,fallbackSrc:e,removeWrapper:f,disableSkeleton:I,getImgProps:t,getWrapperProps:u,getBlurredImgProps:b}=X({...n,ref:d}),o=w.jsx(r,{ref:g,...t()});if(f)return o;const h=w.jsx("div",{className:v.zoomedWrapper({class:l==null?void 0:l.zoomedWrapper}),children:o});return a?w.jsxs("div",{...u(),children:[m?h:o,p.cloneElement(o,b())]}):m||!I||e?w.jsxs("div",{...u(),children:[" ",m?h:o]}):o});Y.displayName="NextUI.Image";export{Y as I,C as i};
