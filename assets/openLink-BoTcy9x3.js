import{$ as y,a as b,b as m,c as g}from"./platform-BknMeRIZ.js";import{r as s,e as K}from"./index-Dy2Ak0OH.js";function E(e){if(w())e.focus({preventScroll:!0});else{let t=x(e);e.focus(),A(t)}}let u=null;function w(){if(u==null){u=!1;try{document.createElement("div").focus({get preventScroll(){return u=!0,!0}})}catch{}}return u}function x(e){let t=e.parentNode,l=[],a=document.scrollingElement||document.documentElement;for(;t instanceof HTMLElement&&t!==a;)(t.offsetHeight<t.scrollHeight||t.offsetWidth<t.scrollWidth)&&l.push({element:t,scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}),t=t.parentNode;return a instanceof HTMLElement&&l.push({element:a,scrollTop:a.scrollTop,scrollLeft:a.scrollLeft}),l}function A(e){for(let{element:t,scrollTop:l,scrollLeft:a}of e)t.scrollTop=l,t.scrollLeft=a}const $=s.createContext({isNative:!0,open:H,useHref:e=>e});function S(e){let{children:t,navigate:l,useHref:a}=e,o=s.useMemo(()=>({isNative:!1,open:(r,n,i,d)=>{h(r,f=>{L(f,n)?l(i,d):c(f,n)})},useHref:a||(r=>r)}),[l,a]);return K.createElement($.Provider,{value:o},t)}function v(){return s.useContext($)}function L(e,t){let l=e.getAttribute("target");return(!l||l==="_self")&&e.origin===location.origin&&!e.hasAttribute("download")&&!t.metaKey&&!t.ctrlKey&&!t.altKey&&!t.shiftKey}function c(e,t,l=!0){var a,o;let{metaKey:r,ctrlKey:n,altKey:i,shiftKey:d}=t;y()&&(!((o=window.event)===null||o===void 0||(a=o.type)===null||a===void 0)&&a.startsWith("key"))&&e.target==="_blank"&&(b()?r=!0:n=!0);let f=m()&&b()&&!g()?new KeyboardEvent("keydown",{keyIdentifier:"Enter",metaKey:r,ctrlKey:n,altKey:i,shiftKey:d}):new MouseEvent("click",{metaKey:r,ctrlKey:n,altKey:i,shiftKey:d,bubbles:!0,cancelable:!0});c.isOpening=l,E(e),e.dispatchEvent(f),c.isOpening=!1}c.isOpening=!1;function h(e,t){if(e instanceof HTMLAnchorElement)t(e);else if(e.hasAttribute("data-href")){let l=document.createElement("a");l.href=e.getAttribute("data-href"),e.hasAttribute("data-target")&&(l.target=e.getAttribute("data-target")),e.hasAttribute("data-rel")&&(l.rel=e.getAttribute("data-rel")),e.hasAttribute("data-download")&&(l.download=e.getAttribute("data-download")),e.hasAttribute("data-ping")&&(l.ping=e.getAttribute("data-ping")),e.hasAttribute("data-referrer-policy")&&(l.referrerPolicy=e.getAttribute("data-referrer-policy")),e.appendChild(l),t(l),e.removeChild(l)}}function H(e,t){h(e,l=>c(l,t))}function P(e){let t=v();var l;const a=t.useHref((l=e.href)!==null&&l!==void 0?l:"");return{"data-href":e.href?a:void 0,"data-target":e.target,"data-rel":e.rel,"data-download":e.download,"data-ping":e.ping,"data-referrer-policy":e.referrerPolicy}}function C(e){let t=v();var l;const a=t.useHref((l=e==null?void 0:e.href)!==null&&l!==void 0?l:"");return{href:e!=null&&e.href?a:void 0,target:e==null?void 0:e.target,rel:e==null?void 0:e.rel,download:e==null?void 0:e.download,ping:e==null?void 0:e.ping,referrerPolicy:e==null?void 0:e.referrerPolicy}}export{S as $,E as a,v as b,C as c,L as d,c as e,P as f};
