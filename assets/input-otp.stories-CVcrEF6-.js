import{j as o}from"./jsx-runtime-CS_Wz6c_.js";import{r as n,e as qt}from"./index-Dy2Ak0OH.js";import{u as qe,C as Qt}from"./index.esm-ChlDZzrW.js";import{B as Ie}from"./button-Cdc36Unr.js";import{$ as Xt,e as Yt}from"./mergeProps-VNdaC4-V.js";import{$ as er}from"./useFormReset-D4-J_9f3.js";import{$ as tr}from"./useControlledState-B6nO32B9.js";import{u as rr,$ as ar,a as nr}from"./base-form-BElK45Vm.js";import{$ as sr}from"./useFormValidation-HuKicY76.js";import{a as or}from"./useFocusRing-BgM-8Y4a.js";import{u as lr,c as ir}from"./provider-context-DmA892L5.js";import{m as dr,f as cr}from"./utils-Dl_53iLP.js";import{t as ur}from"./tv-DvaQJQTB.js";import{d as mr}from"./classes-D2PKZTJC.js";import{u as He}from"./dom-DrLNPp_C.js";import{f as Le}from"./filter-dom-props-BPLFryJX.js";import{c as z}from"./clsx-IIdnr2mY.js";import{o as pr}from"./functions-CkCEVJeD.js";import{d as F}from"./assertion-BI5aukJI.js";import{c as Ae}from"./cn-ByFajI3K.js";import{F as gr}from"./form-B92f7kXN.js";import{b as Nt}from"./button-DeIVZFNz.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./index-C5qmyjg7.js";import"./iframe-BOY4_CVu.js";import"../sb-preview/runtime.js";import"./numbers-Ck-UmubQ.js";import"./index-CbqanOKQ.js";import"./filter-props-Dg3FrsQW.js";import"./filterDOMProps-CeZl_uWj.js";import"./platform-BknMeRIZ.js";import"./useFocusable-aXrZ_JBU.js";import"./focusSafely-Ch4YQihX.js";import"./useFocusWithin-Dv5DP61h.js";import"./SSRProvider-CmMeNDTG.js";import"./openLink-BoTcy9x3.js";import"./usePress-BDQnv3aP.js";import"./useKeyboard-A8_doyNT.js";import"./console-B9aq-5md.js";import"./useHover-bWO3Z0KF.js";import"./spinner-VIEFZZR0.js";import"./mergeRefs-BpO9bzld.js";import"./variants-D625xmxh.js";const Be=ur({slots:{base:["relative","flex","flex-col","w-fit"],wrapper:["group","flex items-center","has-[:disabled]:opacity-60"],input:["absolute","inset-0","border-none","outline-none","bg-transparent","text-transparent"],segmentWrapper:["inline-flex","gap-x-1","py-2"],segment:["h-10","w-10","font-semibold","flex","justify-center","items-center","border-default-200","data-[active=true]:border-default-400","data-[active=true]:scale-110","shadow-sm","hover:bg-danger",...mr],passwordChar:["w-1","h-1","bg-default-800","rounded-full"],caret:["animate-[appearance-in_1s_infinite]","font-extralight","h-full","w-full","flex","justify-center","items-center","text-2xl","h-[50%]","w-px","bg-foreground"],helperWrapper:["text-tiny","mt-0.5","font-extralight",""],errorMessage:["text-tiny text-danger w-full"],description:["text-tiny text-foreground-400"]},variants:{variant:{flat:{segment:["border-transparent","bg-default-100","data-[active=true]:bg-default-200"]},faded:{segment:["bg-default-100","border-medium"]},bordered:{segment:["border-medium"]},underlined:{segment:["shadow-none","relative","box-border","!rounded-none","border-b-medium","shadow-[0_1px_0px_0_rgba(0,0,0,0.05)]","border-default-200","after:content-['']","after:w-0","after:origin-center","after:bg-default-foreground","after:absolute","after:left-1/2","after:-translate-x-1/2","after:-bottom-[2px]","after:h-[2px]","data-[active=true]:border-default-300","data-[active=true]:after:w-full","data-[active=true]:scale-100"]}},isDisabled:{true:{segment:"opacity-disabled pointer-events-none",input:"pointer-events-none"}},isInvalid:{true:{}},isReadOnly:{true:{caret:"bg-transparent",segment:"transition-none data-[active=true]:scale-100"}},fullWidth:{true:{base:"w-full"}},radius:{none:{segment:"rounded-none"},sm:{segment:"rounded-sm"},md:{segment:"rounded-md"},lg:{segment:"rounded-lg"},full:{segment:"rounded-full"}},color:{default:{},primary:{},secondary:{},success:{},warning:{},danger:{}},size:{sm:{segment:"h-8 min-h-8 w-8 min-w-8 text-small"},md:{segment:"h-10 min-h-10 w-10 min-w-10 text-small"},lg:{segment:"h-12 min-h-12 w-12 min-w-12 text-medium"}},disableAnimation:{true:{segment:"transition-none",caret:"animate-none"},false:{segment:"transition duration-150"}}},defaultVariants:{variant:"flat",color:"default",radius:"md",size:"md"},compoundVariants:[{variant:"flat",color:"default",class:{segment:["bg-default-100","data-[active=true]:bg-default-200"]}},{variant:"flat",color:"primary",class:{segment:["bg-primary-100","data-[active=true]:bg-primary-200","text-primary"],caret:["bg-primary"],passwordChar:["bg-primary"]}},{variant:"flat",color:"secondary",class:{segment:["bg-secondary-100","data-[active=true]:bg-secondary-200","text-secondary"],caret:["bg-secondary"],passwordChar:["bg-secondary"]}},{variant:"flat",color:"success",class:{segment:["bg-success-100","data-[active=true]:bg-success-200","text-success"],caret:["bg-success"],passwordChar:["bg-success"]}},{variant:"flat",color:"warning",class:{segment:["bg-warning-100","data-[active=true]:bg-warning-200","text-warning"],caret:["bg-warning"],passwordChar:["bg-warning"]}},{variant:"flat",color:"danger",class:{segment:["bg-danger-100","data-[active=true]:bg-danger-200","text-danger"],caret:["bg-danger"],passwordChar:["bg-danger"]}},{variant:"faded",color:"default",class:{segment:""}},{variant:"faded",color:"primary",class:{segment:["bg-primary-100","text-primary","border-primary-200","data-[active=true]:border-primary"],caret:["bg-primary"],passwordChar:["bg-primary"]}},{variant:"faded",color:"secondary",class:{segment:["bg-secondary-100","text-secondary","border-secondary-200","data-[active=true]:border-secondary"],caret:["bg-secondary"],passwordChar:["bg-secondary"]}},{variant:"faded",color:"success",class:{segment:["bg-success-100","text-success","border-success-200","data-[active=true]:border-success"],caret:["bg-success"],passwordChar:["bg-success"]}},{variant:"faded",color:"warning",class:{segment:["bg-warning-100","text-warning","border-warning-200","data-[active=true]:border-warning"],caret:["bg-warning"],passwordChar:["bg-warning"]}},{variant:"faded",color:"danger",class:{segment:["bg-danger-100","text-danger","border-danger-200","data-[active=true]:border-danger"],caret:["bg-danger"],passwordChar:["bg-danger"]}},{variant:"bordered",color:"default",class:{segment:"data-[has-value=true]:text-default-foreground data-[active=true]:border-foreground"}},{variant:"bordered",color:"primary",class:{segment:["border-primary-200","text-primary","data-[active=true]:border-primary"],caret:["bg-primary"],passwordChar:["bg-primary"]}},{variant:"bordered",color:"secondary",class:{segment:["border-secondary-200","text-secondary","data-[active=true]:border-secondary"],caret:["bg-secondary"],passwordChar:["bg-secondary"]}},{variant:"bordered",color:"success",class:{segment:["border-success-200","text-success","data-[active=true]:border-success"],caret:["bg-success"],passwordChar:["bg-success"]}},{variant:"bordered",color:"warning",class:{segment:["border-warning-200","text-warning","data-[active=true]:border-warning"],caret:["bg-warning"],passwordChar:["bg-warning"]}},{variant:"bordered",color:"danger",class:{segment:["border-danger-200","text-danger","data-[active=true]:border-danger"],caret:["bg-danger"],passwordChar:["bg-danger"]}},{variant:"underlined",color:"default",class:{segment:"data-[has-value=true]:text-default-foreground after:bg-foreground"}},{variant:"underlined",color:"primary",class:{segment:["border-primary-200","text-primary","after:bg-primary"],caret:["bg-primary"],passwordChar:["bg-primary"]}},{variant:"underlined",color:"secondary",class:{segment:["border-secondary-200","text-secondary","after:bg-secondary"],caret:["bg-secondary"],passwordChar:["bg-secondary"]}},{variant:"underlined",color:"success",class:{segment:["border-success-200","text-success","after:bg-success"],caret:["bg-success"],passwordChar:["bg-success"]}},{variant:"underlined",color:"warning",class:{segment:["border-warning-200","text-warning","after:bg-warning"],caret:["bg-warning"],passwordChar:["bg-warning"]}},{variant:"underlined",color:"danger",class:{segment:["border-danger-200","text-danger","after:bg-danger"],caret:["bg-danger"],passwordChar:["bg-danger"]}},{variant:"flat",isInvalid:!0,class:{segment:["bg-danger-50","data-[active=true]:bg-danger-100","text-danger"],caret:["bg-danger"]}},{variant:"faded",isInvalid:!0,class:{segment:["bg-danger-50","text-danger","border-danger-200","data-[active=true]:border-danger-400"],caret:["bg-danger"]}},{variant:"bordered",isInvalid:!0,class:{segment:["border-danger-200","text-danger","data-[active=true]:border-danger-400"],caret:["bg-danger"]}},{variant:"underlined",isInvalid:!0,class:{segment:["border-danger-200","text-danger","data-[active=true]:after:bg-danger-400"],caret:["bg-danger"]}},{disableAnimation:!1,variant:"underlined",class:{segment:"after:transition-width motion-reduce:after:transition-none"}}]});var fr=Object.defineProperty,br=Object.defineProperties,vr=Object.getOwnPropertyDescriptors,De=Object.getOwnPropertySymbols,_t=Object.prototype.hasOwnProperty,Ht=Object.prototype.propertyIsEnumerable,ze=(e,t,r)=>t in e?fr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,hr=(e,t)=>{for(var r in t||(t={}))_t.call(t,r)&&ze(e,r,t[r]);if(De)for(var r of De(t))Ht.call(t,r)&&ze(e,r,t[r]);return e},xr=(e,t)=>br(e,vr(t)),wr=(e,t)=>{var r={};for(var s in e)_t.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&De)for(var s of De(e))t.indexOf(s)<0&&Ht.call(e,s)&&(r[s]=e[s]);return r};function yr(e){let t=setTimeout(e,0),r=setTimeout(e,10),s=setTimeout(e,50);return[t,r,s]}function Sr(e){let t=n.useRef();return n.useEffect(()=>{t.current=e}),t.current}var Cr=18,Lt=40,jr=`${Lt}px`,Pr=["[data-lastpass-icon-root]","com-1password-button","[data-dashlanecreated]",'[style$="2147483647 !important;"]'].join(",");function Tr({containerRef:e,inputRef:t,pushPasswordManagerStrategy:r,isFocused:s}){let[g,c]=n.useState(!1),[R,j]=n.useState(!1),[O,l]=n.useState(!1),v=n.useMemo(()=>r==="none"?!1:(r==="increase-width"||r==="experimental-no-flickering")&&g&&R,[g,R,r]),W=n.useCallback(()=>{let h=e.current,P=t.current;if(!h||!P||O||r==="none")return;let b=h,T=b.getBoundingClientRect().left+b.offsetWidth,B=b.getBoundingClientRect().top+b.offsetHeight/2,u=T-Cr,_=B;document.querySelectorAll(Pr).length===0&&document.elementFromPoint(u,_)===h||(c(!0),l(!0))},[e,t,O,r]);return n.useEffect(()=>{let h=e.current;if(!h||r==="none")return;function P(){let T=window.innerWidth-h.getBoundingClientRect().right;j(T>=Lt)}P();let b=setInterval(P,1e3);return()=>{clearInterval(b)}},[e,r]),n.useEffect(()=>{let h=s||document.activeElement===t.current;if(r==="none"||!h)return;let P=setTimeout(W,0),b=setTimeout(W,2e3),T=setTimeout(W,5e3),B=setTimeout(()=>{l(!0)},6e3);return()=>{clearTimeout(P),clearTimeout(b),clearTimeout(T),clearTimeout(B)}},[t,s,r,W]),{hasPWMBadge:g,willPushPWMBadge:v,PWM_BADGE_SPACE_WIDTH:jr}}var Er=n.createContext({}),zt=n.forwardRef((e,t)=>{var r=e,{value:s,onChange:g,maxLength:c,textAlign:R="left",pattern:j,placeholder:O,inputMode:l="numeric",onComplete:v,pushPasswordManagerStrategy:W="increase-width",pasteTransformer:h,containerClassName:P,noScriptCSSFallback:b=Rr,render:T,children:B}=r,u=wr(r,["value","onChange","maxLength","textAlign","pattern","placeholder","inputMode","onComplete","pushPasswordManagerStrategy","pasteTransformer","containerClassName","noScriptCSSFallback","render","children"]),_,re,ue,oe,me;let[ke,Fe]=n.useState(typeof u.defaultValue=="string"?u.defaultValue:""),f=s??ke,$=Sr(f),U=n.useCallback(a=>{g==null||g(a),Fe(a)},[g]),D=n.useMemo(()=>j?typeof j=="string"?new RegExp(j):j:null,[j]),p=n.useRef(null),ae=n.useRef(null),le=n.useRef({value:f,onChange:U,isIOS:typeof window<"u"&&((re=(_=window==null?void 0:window.CSS)==null?void 0:_.supports)==null?void 0:re.call(_,"-webkit-touch-callout","none"))}),ne=n.useRef({prev:[(ue=p.current)==null?void 0:ue.selectionStart,(oe=p.current)==null?void 0:oe.selectionEnd,(me=p.current)==null?void 0:me.selectionDirection]});n.useImperativeHandle(t,()=>p.current,[]),n.useEffect(()=>{let a=p.current,i=ae.current;if(!a||!i)return;le.current.value!==a.value&&le.current.onChange(a.value),ne.current.prev=[a.selectionStart,a.selectionEnd,a.selectionDirection];function x(){if(document.activeElement!==a){I(null),K(null);return}let m=a.selectionStart,S=a.selectionEnd,d=a.selectionDirection,C=a.maxLength,k=a.value,N=ne.current.prev,A=-1,Z=-1,Y;if(k.length!==0&&m!==null&&S!==null){let Jt=m===S,Zt=m===k.length&&k.length<C;if(Jt&&!Zt){let ee=m;if(ee===0)A=0,Z=1,Y="forward";else if(ee===C)A=ee-1,Z=ee,Y="backward";else if(C>1&&k.length>1){let $e=0;if(N[0]!==null&&N[1]!==null){Y=ee<N[1]?"backward":"forward";let Ut=N[0]===N[1]&&N[0]<C;Y==="backward"&&!Ut&&($e=-1)}A=$e+ee,Z=$e+ee+1}}A!==-1&&Z!==-1&&A!==Z&&p.current.setSelectionRange(A,Z,Y)}let Ne=A!==-1?A:m,_e=Z!==-1?Z:S,Gt=Y??d;I(Ne),K(_e),ne.current.prev=[Ne,_e,Gt]}if(document.addEventListener("selectionchange",x,{capture:!0}),x(),document.activeElement===a&&Q(!0),!document.getElementById("input-otp-style")){let m=document.createElement("style");if(m.id="input-otp-style",document.head.appendChild(m),m.sheet){let S="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";ce(m.sheet,"[data-input-otp]::selection { background: transparent !important; color: transparent !important; }"),ce(m.sheet,`[data-input-otp]:autofill { ${S} }`),ce(m.sheet,`[data-input-otp]:-webkit-autofill { ${S} }`),ce(m.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),ce(m.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}let E=()=>{i&&i.style.setProperty("--root-height",`${a.clientHeight}px`)};E();let y=new ResizeObserver(E);return y.observe(a),()=>{document.removeEventListener("selectionchange",x,{capture:!0}),y.disconnect()}},[]);let[ie,pe]=n.useState(!1),[M,Q]=n.useState(!1),[q,I]=n.useState(null),[H,K]=n.useState(null);n.useEffect(()=>{yr(()=>{var a,i,x,E;(a=p.current)==null||a.dispatchEvent(new Event("input"));let y=(i=p.current)==null?void 0:i.selectionStart,m=(x=p.current)==null?void 0:x.selectionEnd,S=(E=p.current)==null?void 0:E.selectionDirection;y!==null&&m!==null&&(I(y),K(m),ne.current.prev=[y,m,S])})},[f,M]),n.useEffect(()=>{$!==void 0&&f!==$&&$.length<c&&f.length===c&&(v==null||v(f))},[c,v,$,f]);let G=Tr({containerRef:ae,inputRef:p,pushPasswordManagerStrategy:W,isFocused:M}),X=n.useCallback(a=>{let i=a.currentTarget.value.slice(0,c);if(i.length>0&&D&&!D.test(i)){a.preventDefault();return}typeof $=="string"&&i.length<$.length&&document.dispatchEvent(new Event("selectionchange")),U(i)},[c,U,$,D]),ge=n.useCallback(()=>{var a;if(p.current){let i=Math.min(p.current.value.length,c-1),x=p.current.value.length;(a=p.current)==null||a.setSelectionRange(i,x),I(i),K(x)}Q(!0)},[c]),J=n.useCallback(a=>{var i,x;let E=p.current;if(!h&&(!le.current.isIOS||!a.clipboardData||!E))return;let y=a.clipboardData.getData("text/plain"),m=h?h(y):y;console.log({_content:y,content:m}),a.preventDefault();let S=(i=p.current)==null?void 0:i.selectionStart,d=(x=p.current)==null?void 0:x.selectionEnd,C=(S!==d?f.slice(0,S)+m+f.slice(d):f.slice(0,S)+m+f.slice(S)).slice(0,c);if(C.length>0&&D&&!D.test(C))return;E.value=C,U(C);let k=Math.min(C.length,c-1),N=C.length;E.setSelectionRange(k,N),I(k),K(N)},[c,U,D,f]),de=n.useMemo(()=>({position:"relative",cursor:u.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"}),[u.disabled]),L=n.useMemo(()=>({position:"absolute",inset:0,width:G.willPushPWMBadge?`calc(100% + ${G.PWM_BADGE_SPACE_WIDTH})`:"100%",clipPath:G.willPushPWMBadge?`inset(0 ${G.PWM_BADGE_SPACE_WIDTH} 0 0)`:void 0,height:"100%",display:"flex",textAlign:R,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"}),[G.PWM_BADGE_SPACE_WIDTH,G.willPushPWMBadge,R]),fe=n.useMemo(()=>n.createElement("input",xr(hr({autoComplete:u.autoComplete||"one-time-code"},u),{"data-input-otp":!0,"data-input-otp-placeholder-shown":f.length===0||void 0,"data-input-otp-mss":q,"data-input-otp-mse":H,inputMode:l,pattern:D==null?void 0:D.source,"aria-placeholder":O,style:L,maxLength:c,value:f,ref:p,onPaste:a=>{var i;J(a),(i=u.onPaste)==null||i.call(u,a)},onChange:X,onMouseOver:a=>{var i;pe(!0),(i=u.onMouseOver)==null||i.call(u,a)},onMouseLeave:a=>{var i;pe(!1),(i=u.onMouseLeave)==null||i.call(u,a)},onFocus:a=>{var i;ge(),(i=u.onFocus)==null||i.call(u,a)},onBlur:a=>{var i;Q(!1),(i=u.onBlur)==null||i.call(u,a)}})),[X,ge,J,l,L,c,H,q,u,D==null?void 0:D.source,f]),se=n.useMemo(()=>({slots:Array.from({length:c}).map((a,i)=>{var x;let E=M&&q!==null&&H!==null&&(q===H&&i===q||i>=q&&i<H),y=f[i]!==void 0?f[i]:null,m=f[0]!==void 0?null:(x=O==null?void 0:O[i])!=null?x:null;return{char:y,placeholderChar:m,isActive:E,hasFakeCaret:E&&y===null}}),isFocused:M,isHovering:!u.disabled&&ie}),[M,ie,c,H,q,u.disabled,f]),Ve=n.useMemo(()=>T?T(se):n.createElement(Er.Provider,{value:se},B),[B,se,T]);return n.createElement(n.Fragment,null,b!==null&&n.createElement("noscript",null,n.createElement("style",null,b)),n.createElement("div",{ref:ae,"data-input-otp-container":!0,style:de,className:P},Ve,n.createElement("div",{style:{position:"absolute",inset:0,pointerEvents:"none"}},fe)))});zt.displayName="Input";function ce(e,t){try{e.insertRule(t)}catch{console.error("input-otp could not insert CSS rule:",t)}}var Rr=`
[data-input-otp] {
  --nojs-bg: white !important;
  --nojs-fg: black !important;

  background-color: var(--nojs-bg) !important;
  color: var(--nojs-fg) !important;
  caret-color: var(--nojs-fg) !important;
  letter-spacing: .25em !important;
  text-align: center !important;
  border: 1px solid var(--nojs-fg) !important;
  border-radius: 4px !important;
  width: 100% !important;
}
@media (prefers-color-scheme: dark) {
  [data-input-otp] {
    --nojs-bg: black !important;
    --nojs-fg: white !important;
  }
}`;function Or(e){const t=lr(),{validationBehavior:r}=rr(nr)||{},[s,g]=dr(e,Be.variantKeys),{ref:c,baseRef:R,as:j,className:O,classNames:l,length:v=4,autoFocus:W,"aria-label":h="One-time password input",onValueChange:P=()=>{},allowedKeys:b="^[0-9]*$",validationBehavior:T=r??(t==null?void 0:t.validationBehavior)??"native",type:B,name:u,maxLength:_,minLength:re,textAlign:ue="center",onComplete:oe=()=>{},pushPasswordManagerStrategy:me,pasteTransformer:ke,containerClassName:Fe,noScriptCSSFallback:f,onChange:$,...U}=s,D=j||"div",p=He(c),ae=He(R),{isFocusVisible:le,isFocused:ne,focusProps:ie}=or({autoFocus:W,isTextInput:!0}),pe=n.useCallback(d=>{P(d??"")},[P]),[M,Q]=tr(s.value,s.defaultValue??"",pe),q=e.disableAnimation??(t==null?void 0:t.disableAnimation)??!1,I=e.isDisabled,H=z(l==null?void 0:l.base,O),K=ar({...s,validationBehavior:T,value:M});er(p,M,Q),sr(s,K,p);const{isInvalid:G,validationErrors:X,validationDetails:ge}=K.displayValidation,J=e.isReadOnly,de=e.isRequired,L=e.isInvalid||G,fe=typeof s.errorMessage=="function"?s.errorMessage({isInvalid:L,validationErrors:X,validationDetails:ge}):s.errorMessage||(X==null?void 0:X.join(" ")),se=s.description,Ve=!!se||!!fe,a=n.useMemo(()=>Be({...g,disableAnimation:q,isInvalid:L,isReadOnly:J}),[pr(g),q,L,J]),i=n.useCallback((d={})=>({ref:ae,className:a.base({class:H}),"data-slot":"base","data-disabled":F(I),"data-invalid":F(L),"data-required":F(e==null?void 0:e.isRequired),"data-readonly":F(e==null?void 0:e.isReadOnly),"data-filled":F(M.length===v),"aria-label":h,"aria-required":F(e.isRequired),"aria-readonly":F(e==null?void 0:e.isReadOnly),role:"base",...Xt(Le(U,{enabled:!0}),Le(d)),onChange:C=>{var A;const k=(A=C.target)==null?void 0:A.value;new RegExp(b).test(k)&&($==null||$(C))}}),[ae,a,H,I,L,de,J,M,v]),x=n.useCallback((d={})=>{var k;return{...ie,required:de,disabled:I,readOnly:J,pattern:b,maxLength:_??v,minLength:re??v,textAlign:ue,ref:p,name:u,value:M,autoFocus:W,onChange:Q,onBlur:Yt(ie.onBlur,d==null?void 0:d.onBlur),onComplete:oe,pushPasswordManagerStrategy:me,pasteTransformer:ke,noScriptCSSFallback:f,containerClassName:(k=a.wrapper)==null?void 0:k.call(a,{class:z(l==null?void 0:l.wrapper,Fe)}),...d}},[de,I,J,b,p,u,M,v,Q,s.onBlur,oe,W]),E=n.useCallback((d={})=>({className:a.segmentWrapper({class:z(l==null?void 0:l.segmentWrapper,d==null?void 0:d.className)}),"data-slot":"segment-wrapper","data-disabled":F(I),"aria-label":h,...d}),[l==null?void 0:l.segmentWrapper,I]),y=n.useCallback((d={})=>({className:a.helperWrapper({class:z(l==null?void 0:l.helperWrapper,d==null?void 0:d.className)}),"data-slot":"helper-wrapper",...d}),[l==null?void 0:l.helperWrapper]),m=n.useCallback((d={})=>({className:a.errorMessage({class:z(l==null?void 0:l.errorMessage,d==null?void 0:d.className)}),"data-slot":"error-message",...d}),[l==null?void 0:l.errorMessage]),S=n.useCallback((d={})=>({className:a.description({class:z(l==null?void 0:l.description,d==null?void 0:d.className)}),"data-slot":"description",...d}),[l==null?void 0:l.description]);return{Component:D,inputRef:p,length:v,value:M,type:B,slots:a,hasHelper:Ve,classNames:l,isInvalid:L,description:se,errorMessage:fe,isFocusVisible:le,isFocused:ne,getBaseProps:i,getInputOtpProps:x,getSegmentWrapperProps:E,getHelperWrapperProps:y,getErrorMessageProps:m,getDescriptionProps:S}}const[Mr,Wr]=ir({name:"InputOtpContext",errorMessage:"useInputOtpContext: `context` is undefined. Seems like you forgot to wrap all input-otp components within `<InputOtp />`"}),Dr=({...e})=>{var O;const{classNames:t,slots:r,type:s}=Wr(),g=z(t==null?void 0:t.passwordChar),c=z(t==null?void 0:t.caret),R=z(t==null?void 0:t.segment),j=n.useMemo(()=>{var l,v;return e.isActive&&!e.char?o.jsx("div",{className:Ae((l=r.caret)==null?void 0:l.call(r,{class:c}))}):e.char?s==="password"?o.jsx("div",{className:Ae((v=r.passwordChar)==null?void 0:v.call(r,{class:g}))}):o.jsx("div",{children:e.char}):o.jsx("div",{children:e.placeholderChar})},[e.char,e.isActive,e.placeholderChar,s]);return o.jsx("div",{className:Ae((O=r.segment)==null?void 0:O.call(r,{class:R})),"data-active":F(e.isActive),"data-focus":F(e.isFocused&&e.isActive),"data-focus-visible":F(e.isFocusVisible&&e.isActive),"data-has-value":F(!!e.char),"data-slot":"segment2",role:"presentation",children:j})},V=cr((e,t)=>{const r=Or({...e,ref:t}),{Component:s,hasHelper:g,isInvalid:c,errorMessage:R,description:j,isFocusVisible:O,isFocused:l,getBaseProps:v,getInputOtpProps:W,getSegmentWrapperProps:h,getHelperWrapperProps:P,getErrorMessageProps:b,getDescriptionProps:T}=r,B=n.useMemo(()=>g?o.jsx("div",{...P(),children:c&&R?o.jsx("div",{...b(),children:R}):o.jsx("div",{...T(),children:j})}):null,[g,c,R,j,P,b,T]);return o.jsx(Mr,{value:r,children:o.jsxs(s,{...v(),children:[o.jsx(zt,{...W(),render:({slots:u})=>o.jsx("div",{...h(),children:u.map((_,re)=>o.jsx(Dr,{..._,isFocusVisible:O,isFocused:l},re))})}),B]})})});V.displayName="NextUI.InputOtp";const Oa={title:"Components/InputOtp",component:V,argTypes:{variant:{control:{type:"select"},options:["flat","faded","bordered","underlined"]},color:{control:{type:"select"},options:["default","primary","secondary","success","warning","danger"]},radius:{control:{type:"select"},options:["none","sm","md","lg","full"]},size:{control:{type:"select"},options:["sm","md","lg"]},isDisabled:{control:{type:"boolean"}},validationBehavior:{control:{type:"select"},options:["aria","native"]}}},w={...Be.defaultVariants},te=e=>o.jsx("div",{children:o.jsx(V,{...e})}),Ir=e=>{const{register:t,handleSubmit:r}=qe({defaultValues:{otp:""}}),s=g=>{alert("Submitted value: "+JSON.stringify(g))};return o.jsx("div",{className:"flex flex-col",children:o.jsxs("form",{className:"flex flex-col gap-2",onSubmit:r(s),children:[o.jsx(V,{...e,length:4,...t("otp",{required:!0})}),o.jsx("button",{className:Nt({class:"w-fit"}),type:"submit",children:"Submit"})]})})},kr=e=>{const[t,r]=qt.useState("");return o.jsxs("div",{className:"flex flex-col gap-y-2",children:[o.jsx(V,{...e,length:4,value:t,onValueChange:r}),o.jsxs("p",{className:"text-default-500 text-sm",children:["Input value: ",t]})]})},Fr=e=>{const t=[{name:"For below InputOtp, only lower-case alphabets (a to z) are allowed:",value:"^[a-z]*$"},{name:"For below InputOtp, only upper-case alphabets (A to Z) are allowed:",value:"^[A-Z]*$"}];return o.jsx("div",{className:"w-full flex flex-wrap gap-6",children:t.map((r,s)=>o.jsxs("div",{className:"flex w-full flex-col flex-wrap md:flex-nowrap mb-6 md:mb-0 gap-4",children:[o.jsx("div",{className:"text-default-500",children:r.name}),o.jsx(V,{allowedKeys:r.value,length:4,...e})]},s))})},Kt=e=>o.jsxs("form",{className:"flex w-full flex-col items-start gap-4",onSubmit:t=>{t.preventDefault();const s=new FormData(t.currentTarget).get("otp");alert(`OTP submitted: ${s}`)},children:[o.jsx(V,{isRequired:!0,"aria-label":"OTP input field",length:4,name:"otp",placeholder:"Enter code",validationBehavior:"native",...e}),o.jsx(Ie,{size:"sm",type:"submit",variant:"bordered",children:"Submit"})]}),Vr=e=>{const{register:t,formState:{errors:r},handleSubmit:s}=qe({defaultValues:{withDefaultValue:"12",requiredField:""}}),g=c=>{console.log(c),alert("Submitted value: "+JSON.stringify(c))};return o.jsxs("form",{className:"flex flex-col gap-4",onSubmit:s(g),children:[o.jsxs("div",{className:"flex flex-col",children:[o.jsx("div",{className:"text-default-400/60 text-xs",children:"Default value:"}),o.jsx(V,{...e,...t("withDefaultValue")})]}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("div",{className:"text-default-400/60 text-xs",children:"Required value:"}),o.jsx(V,{...e,...t("requiredField",{required:!0})}),r.requiredField&&o.jsx("span",{className:"text-danger text-tiny",children:"This field is required"})]}),o.jsx("button",{className:Nt({class:"w-fit"}),type:"submit",children:"Submit"})]})},$r=e=>{const{handleSubmit:t,control:r,formState:{errors:s}}=qe({defaultValues:{otp:""}}),g=c=>{alert(JSON.stringify(c))};return o.jsxs("form",{className:"flex flex-col gap-4 w-full max-w-[300px]",onSubmit:t(g),children:[o.jsx(Qt,{control:r,name:"otp",render:({field:c})=>o.jsx(V,{...c,errorMessage:s.otp&&s.otp.message,isInvalid:!!s.otp,...e}),rules:{required:"OTP is required",minLength:{value:4,message:"Please enter a valid OTP"}}}),o.jsx(Ie,{className:"max-w-fit",type:"submit",variant:"flat",children:"Verify OTP"})]})},Ar=e=>{const[t,r]=qt.useState({}),s=g=>{g.preventDefault(),r({otp:"Please provide a valid OTP code."})};return o.jsxs(gr,{className:"flex flex-col items-start gap-2",validationErrors:t,onSubmit:s,children:[o.jsx(V,{...e,name:"otp"}),o.jsx(Ie,{size:"sm",type:"submit",children:"Submit"})]})},Br=e=>o.jsxs("form",{className:"flex flex-col items-start gap-2",onSubmit:t=>{t.preventDefault();const s=new FormData(t.currentTarget).get("otp");alert(`OTP submitted: ${s}`)},children:[o.jsx(V,{...e,name:"otp",validate:t=>{if(t.length<4)return"OTP must be 4 digits"}}),o.jsx(Ie,{size:"sm",type:"submit",children:"Submit"})]}),be={render:te,args:{...w,length:4}},ve={render:Kt,args:{...w,length:4}},he={render:te,args:{...w,length:4,defaultValue:"123",isDisabled:!0}},xe={render:te,args:{...w,length:4,value:"12",isReadOnly:!0}},we={render:te,args:{...w,length:4,description:"Enter the 4 digit code sent to your email"}},ye={render:te,args:{...w,length:4,isInvalid:!0,errorMessage:"Please enter a valid OTP."}},Se={render:Ir,args:{...w,length:4,isRequired:!0,minLength:4,errorMessage:e=>{if(e.validationDetails.tooShort)return"Value is too short"}}},Ce={render:Kt,args:{...w,type:"password"}},je={render:te,args:{...w,length:4,isInvalid:!0,errorMessage:"Invalid OTP"}},Pe={render:kr,args:{...w}},Te={render:Fr,args:{...w}},Ee={render:Vr,args:{...w,length:4}},Re={render:$r,args:{...w,length:4}},Oe={render:te,args:{...w,length:4,classNames:{segmentWrapper:"gap-x-0",segment:["relative","h-10","w-10","border-y","border-r","first:rounded-l-md","first:border-l","last:rounded-r-md","border-default-200","data-[active=true]:border","data-[active=true]:z-20","data-[active=true]:ring-2","data-[active=true]:ring-offset-2","data-[active=true]:ring-offset-background","data-[active=true]:ring-foreground"]},radius:"none",description:"Enter the 4 digit code sent to your email"}},Me={render:Ar,args:{...w,length:4}},We={render:Br,args:{...w,length:4,isRequired:!0}};var Ke,Ge,Je;be.parameters={...be.parameters,docs:{...(Ke=be.parameters)==null?void 0:Ke.docs,source:{originalSource:`{
  render: Template,
  args: {
    ...defaultProps,
    length: 4
  }
}`,...(Je=(Ge=be.parameters)==null?void 0:Ge.docs)==null?void 0:Je.source}}};var Ze,Ue,Qe;ve.parameters={...ve.parameters,docs:{...(Ze=ve.parameters)==null?void 0:Ze.docs,source:{originalSource:`{
  render: RequiredTemplate,
  args: {
    ...defaultProps,
    length: 4
  }
}`,...(Qe=(Ue=ve.parameters)==null?void 0:Ue.docs)==null?void 0:Qe.source}}};var Xe,Ye,et;he.parameters={...he.parameters,docs:{...(Xe=he.parameters)==null?void 0:Xe.docs,source:{originalSource:`{
  render: Template,
  args: {
    ...defaultProps,
    length: 4,
    defaultValue: "123",
    isDisabled: true
  }
}`,...(et=(Ye=he.parameters)==null?void 0:Ye.docs)==null?void 0:et.source}}};var tt,rt,at;xe.parameters={...xe.parameters,docs:{...(tt=xe.parameters)==null?void 0:tt.docs,source:{originalSource:`{
  render: Template,
  args: {
    ...defaultProps,
    length: 4,
    value: "12",
    isReadOnly: true
  }
}`,...(at=(rt=xe.parameters)==null?void 0:rt.docs)==null?void 0:at.source}}};var nt,st,ot;we.parameters={...we.parameters,docs:{...(nt=we.parameters)==null?void 0:nt.docs,source:{originalSource:`{
  render: Template,
  args: {
    ...defaultProps,
    length: 4,
    description: "Enter the 4 digit code sent to your email"
  }
}`,...(ot=(st=we.parameters)==null?void 0:st.docs)==null?void 0:ot.source}}};var lt,it,dt;ye.parameters={...ye.parameters,docs:{...(lt=ye.parameters)==null?void 0:lt.docs,source:{originalSource:`{
  render: Template,
  args: {
    ...defaultProps,
    length: 4,
    isInvalid: true,
    errorMessage: "Please enter a valid OTP."
  }
}`,...(dt=(it=ye.parameters)==null?void 0:it.docs)==null?void 0:dt.source}}};var ct,ut,mt;Se.parameters={...Se.parameters,docs:{...(ct=Se.parameters)==null?void 0:ct.docs,source:{originalSource:`{
  render: ErrorMessageFunctionTemplate,
  args: {
    ...defaultProps,
    length: 4,
    isRequired: true,
    minLength: 4,
    errorMessage: (value: ValidationResult) => {
      if (value.validationDetails.tooShort) {
        return "Value is too short";
      }
    }
  }
}`,...(mt=(ut=Se.parameters)==null?void 0:ut.docs)==null?void 0:mt.source}}};var pt,gt,ft;Ce.parameters={...Ce.parameters,docs:{...(pt=Ce.parameters)==null?void 0:pt.docs,source:{originalSource:`{
  render: RequiredTemplate,
  args: {
    ...defaultProps,
    type: "password"
  }
}`,...(ft=(gt=Ce.parameters)==null?void 0:gt.docs)==null?void 0:ft.source}}};var bt,vt,ht;je.parameters={...je.parameters,docs:{...(bt=je.parameters)==null?void 0:bt.docs,source:{originalSource:`{
  render: Template,
  args: {
    ...defaultProps,
    length: 4,
    isInvalid: true,
    errorMessage: "Invalid OTP"
  }
}`,...(ht=(vt=je.parameters)==null?void 0:vt.docs)==null?void 0:ht.source}}};var xt,wt,yt;Pe.parameters={...Pe.parameters,docs:{...(xt=Pe.parameters)==null?void 0:xt.docs,source:{originalSource:`{
  render: ControlledTemplate,
  args: {
    ...defaultProps
  }
}`,...(yt=(wt=Pe.parameters)==null?void 0:wt.docs)==null?void 0:yt.source}}};var St,Ct,jt;Te.parameters={...Te.parameters,docs:{...(St=Te.parameters)==null?void 0:St.docs,source:{originalSource:`{
  render: AllowedKeysTemplate,
  args: {
    ...defaultProps
  }
}`,...(jt=(Ct=Te.parameters)==null?void 0:Ct.docs)==null?void 0:jt.source}}};var Pt,Tt,Et;Ee.parameters={...Ee.parameters,docs:{...(Pt=Ee.parameters)==null?void 0:Pt.docs,source:{originalSource:`{
  render: WithReactHookFormTemplate,
  args: {
    ...defaultProps,
    length: 4
  }
}`,...(Et=(Tt=Ee.parameters)==null?void 0:Tt.docs)==null?void 0:Et.source}}};var Rt,Ot,Mt;Re.parameters={...Re.parameters,docs:{...(Rt=Re.parameters)==null?void 0:Rt.docs,source:{originalSource:`{
  render: WithReactHookFormControllerTemplate,
  args: {
    ...defaultProps,
    length: 4
  }
}`,...(Mt=(Ot=Re.parameters)==null?void 0:Ot.docs)==null?void 0:Mt.source}}};var Wt,Dt,It;Oe.parameters={...Oe.parameters,docs:{...(Wt=Oe.parameters)==null?void 0:Wt.docs,source:{originalSource:`{
  render: Template,
  args: {
    ...defaultProps,
    length: 4,
    classNames: {
      segmentWrapper: "gap-x-0",
      segment: ["relative", "h-10", "w-10", "border-y", "border-r", "first:rounded-l-md", "first:border-l", "last:rounded-r-md", "border-default-200", "data-[active=true]:border", "data-[active=true]:z-20", "data-[active=true]:ring-2", "data-[active=true]:ring-offset-2", "data-[active=true]:ring-offset-background", "data-[active=true]:ring-foreground"]
    },
    radius: "none",
    description: "Enter the 4 digit code sent to your email"
  }
}`,...(It=(Dt=Oe.parameters)==null?void 0:Dt.docs)==null?void 0:It.source}}};var kt,Ft,Vt;Me.parameters={...Me.parameters,docs:{...(kt=Me.parameters)==null?void 0:kt.docs,source:{originalSource:`{
  render: ServerValidationTemplate,
  args: {
    ...defaultProps,
    length: 4
  }
}`,...(Vt=(Ft=Me.parameters)==null?void 0:Ft.docs)==null?void 0:Vt.source}}};var $t,At,Bt;We.parameters={...We.parameters,docs:{...($t=We.parameters)==null?void 0:$t.docs,source:{originalSource:`{
  render: WithValidationTemplate,
  args: {
    ...defaultProps,
    length: 4,
    isRequired: true
  }
}`,...(Bt=(At=We.parameters)==null?void 0:At.docs)==null?void 0:Bt.source}}};const Ma=["Default","Required","Disabled","ReadOnly","WithDescription","WithErrorMessage","WithErrorMessageFunction","Password","isInvalid","Controlled","AllowedKeys","WithReactHookForm","WithReactHookFormController","CustomWithClassNames","WithServerValidation","WithValidation"];export{Te as AllowedKeys,Pe as Controlled,Oe as CustomWithClassNames,be as Default,he as Disabled,Ce as Password,xe as ReadOnly,ve as Required,we as WithDescription,ye as WithErrorMessage,Se as WithErrorMessageFunction,Ee as WithReactHookForm,Re as WithReactHookFormController,Me as WithServerValidation,We as WithValidation,Ma as __namedExportsOrder,Oa as default,je as isInvalid};
