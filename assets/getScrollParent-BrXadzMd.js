import{a as b}from"./context-DL1kNI1P.js";import{r as g}from"./index-Dy2Ak0OH.js";import{$ as s}from"./isScrollable-BSEN4xi5.js";const h=Symbol.for("react-aria.i18n.locale"),m=Symbol.for("react-aria.i18n.strings");let o;class c{getStringForLocale(e,t){let n=this.getStringsForLocale(t)[e];if(!n)throw new Error(`Could not find intl message ${e} in ${t} locale`);return n}getStringsForLocale(e){let t=this.strings[e];return t||(t=p(e,this.strings,this.defaultLocale),this.strings[e]=t),t}static getGlobalDictionaryForPackage(e){if(typeof window>"u")return null;let t=window[h];if(o===void 0){let n=window[m];if(!n)return null;o={};for(let l in n)o[l]=new c({[t]:n[l]},t)}let r=o==null?void 0:o[e];if(!r)throw new Error(`Strings for package "${e}" were not included by LocalizedStringProvider. Please add it to the list passed to createLocalizedStringDictionary.`);return r}constructor(e,t="en-US"){this.strings=Object.fromEntries(Object.entries(e).filter(([,r])=>r)),this.defaultLocale=t}}function p(a,e,t="en-US"){if(e[a])return e[a];let r=w(a);if(e[r])return e[r];for(let n in e)if(n.startsWith(r+"-"))return e[n];return e[t]}function w(a){return Intl.Locale?new Intl.Locale(a).language:a.split("-")[0]}const f=new Map,d=new Map;class y{format(e,t){let r=this.strings.getStringForLocale(e,this.locale);return typeof r=="function"?r(t,this):r}plural(e,t,r="cardinal"){let n=t["="+e];if(n)return typeof n=="function"?n():n;let l=this.locale+":"+r,i=f.get(l);i||(i=new Intl.PluralRules(this.locale,{type:r}),f.set(l,i));let $=i.select(e);return n=t[$]||t.other,typeof n=="function"?n():n}number(e){let t=d.get(this.locale);return t||(t=new Intl.NumberFormat(this.locale),d.set(this.locale,t)),t.format(e)}select(e,t){let r=e[t]||e.other;return typeof r=="function"?r():r}constructor(e,t){this.locale=e,this.strings=t}}const u=new WeakMap;function S(a){let e=u.get(a);return e||(e=new c(a),u.set(a,e)),e}function L(a,e){return e&&c.getGlobalDictionaryForPackage(e)||S(a)}function E(a,e){let{locale:t}=b(),r=L(a,e);return g.useMemo(()=>new y(t,r),[t,r])}function P(a,e){let t=a;for(s(t,e)&&(t=t.parentElement);t&&!s(t,e);)t=t.parentElement;return t||document.scrollingElement||document.documentElement}export{E as $,P as a,L as b,c,y as d};
