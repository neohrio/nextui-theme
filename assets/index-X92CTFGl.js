const _=t=>typeof t=="object"&&t!=null&&t.nodeType===1,tt=(t,e)=>(!e||t!=="hidden")&&t!=="visible"&&t!=="clip",A=(t,e)=>{if(t.clientHeight<t.scrollHeight||t.clientWidth<t.scrollWidth){const d=getComputedStyle(t,null);return tt(d.overflowY,e)||tt(d.overflowX,e)||(r=>{const n=(l=>{if(!l.ownerDocument||!l.ownerDocument.defaultView)return null;try{return l.ownerDocument.defaultView.frameElement}catch{return null}})(r);return!!n&&(n.clientHeight<r.scrollHeight||n.clientWidth<r.scrollWidth)})(t)}return!1},j=(t,e,d,r,n,l,a,i)=>l<t&&a>e||l>t&&a<e?0:l<=t&&i<=d||a>=e&&i>=d?l-t-r:a>e&&i<d||l<t&&i>d?a-e+n:0,rt=t=>{const e=t.parentElement;return e??(t.getRootNode().host||null)},et=(t,e)=>{var d,r,n,l;if(typeof document>"u")return[];const{scrollMode:a,block:i,inline:f,boundary:D,skipOverflowHiddenElements:ot}=e,nt=typeof D=="function"?D:g=>g!==D;if(!_(t))throw new TypeError("Invalid target");const G=document.scrollingElement||document.documentElement,H=[];let s=t;for(;_(s)&&nt(s);){if(s=rt(s),s===G){H.push(s);break}s!=null&&s===document.body&&A(s)&&!A(document.documentElement)||s!=null&&A(s,ot)&&H.push(s)}const m=(r=(d=window.visualViewport)==null?void 0:d.width)!=null?r:innerWidth,b=(l=(n=window.visualViewport)==null?void 0:n.height)!=null?l:innerHeight,{scrollX:w,scrollY:W}=window,{height:v,width:y,top:M,right:L,bottom:O,left:E}=t.getBoundingClientRect(),{top:J,right:K,bottom:P,left:Q}=(g=>{const o=window.getComputedStyle(g);return{top:parseFloat(o.scrollMarginTop)||0,right:parseFloat(o.scrollMarginRight)||0,bottom:parseFloat(o.scrollMarginBottom)||0,left:parseFloat(o.scrollMarginLeft)||0}})(t);let c=i==="start"||i==="nearest"?M-J:i==="end"?O+P:M+v/2-J+P,h=f==="center"?E+y/2-Q+K:f==="end"?L+K:E-Q;const X=[];for(let g=0;g<H.length;g++){const o=H[g],{height:k,width:C,top:R,right:$,bottom:Y,left:T}=o.getBoundingClientRect();if(a==="if-needed"&&M>=0&&E>=0&&O<=b&&L<=m&&M>=R&&O<=Y&&E>=T&&L<=$)return X;const x=getComputedStyle(o),B=parseInt(x.borderLeftWidth,10),F=parseInt(x.borderTopWidth,10),I=parseInt(x.borderRightWidth,10),N=parseInt(x.borderBottomWidth,10);let u=0,p=0;const V="offsetWidth"in o?o.offsetWidth-o.clientWidth-B-I:0,S="offsetHeight"in o?o.offsetHeight-o.clientHeight-F-N:0,q="offsetWidth"in o?o.offsetWidth===0?0:C/o.offsetWidth:0,z="offsetHeight"in o?o.offsetHeight===0?0:k/o.offsetHeight:0;if(G===o)u=i==="start"?c:i==="end"?c-b:i==="nearest"?j(W,W+b,b,F,N,W+c,W+c+v,v):c-b/2,p=f==="start"?h:f==="center"?h-m/2:f==="end"?h-m:j(w,w+m,m,B,I,w+h,w+h+y,y),u=Math.max(0,u+W),p=Math.max(0,p+w);else{u=i==="start"?c-R-F:i==="end"?c-Y+N+S:i==="nearest"?j(R,Y,k,F,N+S,c,c+v,v):c-(R+k/2)+S/2,p=f==="start"?h-T-B:f==="center"?h-(T+C/2)+V/2:f==="end"?h-$+I+V:j(T,$,C,B,I+V,h,h+y,y);const{scrollLeft:U,scrollTop:Z}=o;u=z===0?0:Math.max(0,Math.min(Z+u/z,o.scrollHeight-k/z+S)),p=q===0?0:Math.max(0,Math.min(U+p/q,o.scrollWidth-C/q+V)),c+=Z-u,h+=U-p}X.push({el:o,top:u,left:p})}return X},lt=t=>t===!1?{block:"end",inline:"nearest"}:(e=>e===Object(e)&&Object.keys(e).length!==0)(t)?t:{block:"start",inline:"nearest"};function it(t,e){if(!t.isConnected||!(r=>{let n=r;for(;n&&n.parentNode;){if(n.parentNode===document)return!0;n=n.parentNode instanceof ShadowRoot?n.parentNode.host:n.parentNode}return!1})(t))return;if((r=>typeof r=="object"&&typeof r.behavior=="function")(e))return e.behavior(et(t,e));const d=typeof e=="boolean"||e==null?void 0:e.behavior;for(const{el:r,top:n,left:l}of et(t,lt(e)))r.scroll({top:n,left:l,behavior:d})}export{it as t};
