import{r as f}from"./index-Dy2Ak0OH.js";import{$}from"./useMove-yGXTZPvU.js";function D(x){const{targetRef:o,isDisabled:c=!1,canOverflow:p=!1}=x,u=f.useRef({minLeft:0,minTop:0,maxLeft:0,maxTop:0});let r={offsetX:0,offsetY:0};const b=f.useCallback(()=>{var h;const{offsetX:e,offsetY:m}=r,t=(h=o==null?void 0:o.current)==null?void 0:h.getBoundingClientRect(),a=(t==null?void 0:t.left)??0,i=(t==null?void 0:t.top)??0,l=(t==null?void 0:t.width)??0,d=(t==null?void 0:t.height)??0,n=document.documentElement.clientWidth,s=document.documentElement.clientHeight,E=-a+e,M=-i+m,X=n-a-l+e,Y=s-i-d+m;u.current={minLeft:E,minTop:M,maxLeft:X,maxTop:Y}},[r,o==null?void 0:o.current]),L=f.useCallback(e=>{if(c)return;const{offsetX:m,offsetY:t}=r,{minLeft:a,minTop:i,maxLeft:l,maxTop:d}=u.current;let n=m+e.deltaX,s=t+e.deltaY;p||(n=Math.min(Math.max(n,a),l),s=Math.min(Math.max(s,i),d)),r={offsetX:n,offsetY:s},o!=null&&o.current&&(o.current.style.transform=`translate(${n}px, ${s}px)`)},[c,r,u.current,p,o==null?void 0:o.current]),{moveProps:T}=$({onMoveStart:b,onMove:L}),v=f.useCallback(e=>{e.preventDefault()},[]);return f.useEffect(()=>(c||document.body.addEventListener("touchmove",v,{passive:!1}),()=>{document.body.removeEventListener("touchmove",v)}),[c]),{moveProps:{...T,style:{cursor:c?void 0:"move"}}}}export{D as u};
