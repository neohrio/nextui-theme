import{j as u}from"./jsx-runtime-CS_Wz6c_.js";import{$ as T,b as ae,d as ke}from"./mergeProps-VNdaC4-V.js";import{$ as ce}from"./filterDOMProps-CeZl_uWj.js";import{a as Me,b as Ce,c as Ie,m as de,u as De,d as je}from"./index-CunruRV8.js";import{$ as we}from"./useTreeState-CxAVT1yY.js";import{r as _}from"./index-Dy2Ak0OH.js";import{u as pe}from"./provider-context-DmA892L5.js";import{u as Ae}from"./dom-DrLNPp_C.js";import{f as ue}from"./filter-dom-props-BPLFryJX.js";import{c as q}from"./clsx-IIdnr2mY.js";import{D as Ke}from"./divider-DiQ-8az1.js";import{$ as Fe,a as Ee}from"./useFocusRing-BgM-8Y4a.js";import{b as He,c as Oe}from"./openLink-BoTcy9x3.js";import{e as fe}from"./useFocusWithin-Dv5DP61h.js";import{$ as be}from"./useHover-bWO3Z0KF.js";import{$ as Ue}from"./useKeyboard-A8_doyNT.js";import{b as Be}from"./usePress-BDQnv3aP.js";import{b as Le}from"./useSelectableItem-Abho0jbh.js";import{m as Te,f as me}from"./utils-Dl_53iLP.js";import{w as _e}from"./console-B9aq-5md.js";import{o as Re,r as ze}from"./functions-CkCEVJeD.js";import{d as O}from"./assertion-BI5aukJI.js";import{$ as Ve}from"./Item-CkpyyYVy.js";const We=(e,o)=>{if(!e&&!o)return{};const f=new Set([...Object.keys(e||{}),...Object.keys(o||{})]);return Array.from(f).reduce((i,n)=>({...i,[n]:q(e==null?void 0:e[n],o==null?void 0:o[n])}),{})},he=new WeakMap;function qe(e,o,f){let{shouldFocusWrap:i=!0,onKeyDown:n,onKeyUp:m,...h}=e;!e["aria-label"]&&!e["aria-labelledby"]&&console.warn("An aria-label or aria-labelledby prop is required for accessibility.");let y=ce(e,{labelable:!0}),{listProps:c}=Me({...h,ref:f,selectionManager:o.selectionManager,collection:o.collection,disabledKeys:o.disabledKeys,shouldFocusWrap:i,linkBehavior:"override"});return he.set(o,{onClose:e.onClose,onAction:e.onAction}),{menuProps:T(y,{onKeyDown:n,onKeyUp:m},{role:"menu",...c,onKeyDown:t=>{var b;t.key!=="Escape"&&((b=c.onKeyDown)===null||b===void 0||b.call(c,t))}})}}function Ge(e,o,f){let{id:i,key:n,closeOnSelect:m,isVirtualized:h,"aria-haspopup":y,onPressStart:c,onPressUp:t,onPress:b,onPressChange:x,onPressEnd:v,onHoverStart:S,onHoverChange:s,onHoverEnd:w,onKeyDown:M,onKeyUp:k,onFocus:g,onFocusChange:P,onBlur:l,selectionManager:r=o.selectionManager}=e,d=!!y,F=d&&e["aria-expanded"]==="true";var C;let I=(C=e.isDisabled)!==null&&C!==void 0?C:r.isDisabled(n);var A;let K=(A=e.isSelected)!==null&&A!==void 0?A:r.isSelected(n),E=he.get(o),a=o.collection.getItem(n),D=e.onClose||E.onClose,R=He(),U=p=>{var G;if(!d){if(!(a==null||(G=a.props)===null||G===void 0)&&G.onAction?a.props.onAction():e.onAction&&e.onAction(n),E.onAction){let se=E.onAction;se(n)}p.target instanceof HTMLAnchorElement&&a&&R.open(p.target,p,a.props.href,a.props.routerOptions)}},j="menuitem";d||(r.selectionMode==="single"?j="menuitemradio":r.selectionMode==="multiple"&&(j="menuitemcheckbox"));let J=ae(),z=ae(),V=ae(),W={id:i,"aria-disabled":I||void 0,role:j,"aria-label":e["aria-label"],"aria-labelledby":J,"aria-describedby":[z,V].filter(Boolean).join(" ")||void 0,"aria-controls":e["aria-controls"],"aria-haspopup":y,"aria-expanded":e["aria-expanded"]};r.selectionMode!=="none"&&!d&&(W["aria-checked"]=K),h&&(W["aria-posinset"]=a==null?void 0:a.index,W["aria-setsize"]=Ce(o.collection));let Q=p=>{p.pointerType==="keyboard"&&U(p),c==null||c(p)},N=p=>{p.pointerType!=="keyboard"&&(U(p),!d&&D&&(m??(r.selectionMode!=="multiple"||r.isLink(n)))&&D()),t==null||t(p)},{itemProps:B,isFocused:ee}=Le({selectionManager:r,key:n,ref:f,shouldSelectOnPressUp:!0,allowsDifferentPressOrigin:!0,linkBehavior:"none"}),{pressProps:oe,isPressed:X}=Be({onPressStart:Q,onPress:b,onPressUp:N,onPressChange:x,onPressEnd:v,isDisabled:I}),{hoverProps:te}=be({isDisabled:I,onHoverStart(p){!fe()&&!(F&&y==="dialog")&&(r.setFocused(!0),r.setFocusedKey(n)),S==null||S(p)},onHoverChange:s,onHoverEnd:w}),{keyboardProps:Y}=Ue({onKeyDown:p=>{if(p.repeat){p.continuePropagation();return}switch(p.key){case" ":!I&&r.selectionMode==="none"&&!d&&m!==!1&&D&&D();break;case"Enter":!I&&m!==!1&&!d&&D&&D();break;default:d||p.continuePropagation(),M==null||M(p);break}},onKeyUp:k}),{focusProps:H}=Fe({onBlur:l,onFocus:g,onFocusChange:P}),Z=ce(a==null?void 0:a.props);delete Z.id;let ne=Oe(a==null?void 0:a.props);return{menuItemProps:{...W,...T(Z,ne,d?{onFocus:B.onFocus,"data-key":B["data-key"]}:B,oe,te,Y,H),tabIndex:B.tabIndex!=null&&F?-1:B.tabIndex},labelProps:{id:J},descriptionProps:{id:z},keyboardShortcutProps:{id:V},isFocused:ee,isSelected:K,isPressed:X,isDisabled:I}}function Je(e){let{heading:o,"aria-label":f}=e,i=ke();return{itemProps:{role:"presentation"},headingProps:o?{id:i,role:"presentation"}:{},groupProps:{role:"group","aria-label":f,"aria-labelledby":o?i:void 0}}}function Qe(e){const o=pe(),{as:f,ref:i,variant:n,color:m,children:h,disableAnimation:y=(o==null?void 0:o.disableAnimation)??!1,onAction:c,closeOnSelect:t,itemClasses:b,className:x,state:v,topContent:S,bottomContent:s,hideEmptyContent:w=!1,hideSelectedIcon:M=!1,emptyContent:k="No items.",menuProps:g,onClose:P,classNames:l,...r}=e,d=f||"ul",F=Ae(i),C=typeof d=="string",I=we({...r,...g,children:h}),A=v||I,{menuProps:K}=qe({...r,...g,onAction:c},A,F),E=_.useMemo(()=>Ie({className:x}),[x]),a=q(l==null?void 0:l.base,x);return{Component:d,state:A,variant:n,color:m,disableAnimation:y,onClose:P,topContent:S,bottomContent:s,closeOnSelect:t,className:x,itemClasses:b,getBaseProps:(j={})=>({ref:F,"data-slot":"base",className:E.base({class:a}),...ue(r,{enabled:C}),...j}),getListProps:(j={})=>({"data-slot":"list",className:E.list({class:l==null?void 0:l.list}),...K,...j}),hideEmptyContent:w,hideSelectedIcon:M,getEmptyContentProps:(j={})=>({children:k,className:E.emptyContent({class:l==null?void 0:l.emptyContent}),...j})}}function Xe(e){const o=pe(),[f,i]=Te(e,de.variantKeys),{as:n,item:m,state:h,shortcut:y,description:c,startContent:t,endContent:b,isVirtualized:x,selectedIcon:v,className:S,classNames:s,onAction:w,autoFocus:M,onPress:k,onPressStart:g,onPressUp:P,onPressEnd:l,onPressChange:r,onHoverStart:d,onHoverChange:F,onHoverEnd:C,hideSelectedIcon:I=!1,isReadOnly:A=!1,closeOnSelect:K,onClose:E,onClick:a,...D}=f,R=e.disableAnimation??(o==null?void 0:o.disableAnimation)??!1,U=_.useRef(null),j=n||(D!=null&&D.href?"a":"li"),J=typeof j=="string",{rendered:z,key:V}=m,W=h.disabledKeys.has(V)||e.isDisabled,Q=h.selectionManager.selectionMode!=="none",N=De(),{isFocusVisible:B,focusProps:ee}=Ee({autoFocus:M});a&&typeof a=="function"&&_e("onClick is deprecated, please use onPress instead. See: https://github.com/nextui-org/nextui/issues/4292","MenuItem");const oe=_.useCallback($=>{a==null||a($),k==null||k($)},[a,k]),{isPressed:X,isFocused:te,isSelected:Y,isDisabled:H,menuItemProps:Z,labelProps:ne,descriptionProps:p,keyboardShortcutProps:G}=Ge({key:V,onClose:E,isDisabled:W,onPress:oe,onPressStart:g,onPressUp:P,onPressEnd:l,onPressChange:r,"aria-label":f["aria-label"],closeOnSelect:K,isVirtualized:x,onAction:w},h,U);let{hoverProps:se,isHovered:le}=be({isDisabled:H,onHoverStart($){fe()||(h.selectionManager.setFocused(!0),h.selectionManager.setFocusedKey(V)),d==null||d($)},onHoverChange:F,onHoverEnd:C}),re=Z;const L=_.useMemo(()=>de({...i,isDisabled:H,disableAnimation:R,hasTitleTextChild:typeof z=="string",hasDescriptionTextChild:typeof c=="string"}),[Re(i),H,R,z,c]),ye=q(s==null?void 0:s.base,S);A&&(re=ze(re));const ge=($={})=>({ref:U,...T(A?{}:ee,ue(D,{enabled:J}),re,se,$),"data-focus":O(te),"data-selectable":O(Q),"data-hover":O(N?le||X:le),"data-disabled":O(H),"data-selected":O(Y),"data-pressed":O(X),"data-focus-visible":O(B),className:L.base({class:q(ye,$.className)})}),$e=($={})=>({...T(ne,$),className:L.title({class:s==null?void 0:s.title})}),xe=($={})=>({...T(p,$),className:L.description({class:s==null?void 0:s.description})}),ve=($={})=>({...T(G,$),className:L.shortcut({class:s==null?void 0:s.shortcut})}),Se=_.useCallback(($={})=>({"aria-hidden":O(!0),"data-disabled":O(H),className:L.selectedIcon({class:s==null?void 0:s.selectedIcon}),...$}),[H,L,s]);return{Component:j,domRef:U,slots:L,classNames:s,isSelectable:Q,isSelected:Y,isDisabled:H,rendered:z,shortcut:y,description:c,startContent:t,endContent:b,selectedIcon:v,disableAnimation:R,getItemProps:ge,getLabelProps:$e,hideSelectedIcon:I,getDescriptionProps:xe,getKeyboardShortcutProps:ve,getSelectedIconProps:Se}}function Ye(e){const{isSelected:o,disableAnimation:f,...i}=e;return u.jsx("svg",{"aria-hidden":"true","data-selected":o,role:"presentation",viewBox:"0 0 17 18",...i,children:u.jsx("polyline",{fill:"none",points:"1 9 7 14 15 4",stroke:"currentColor",strokeDasharray:22,strokeDashoffset:o?44:66,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,style:f?{}:{transition:"stroke-dashoffset 200ms ease"}})})}const ie=e=>{const{Component:o,slots:f,classNames:i,rendered:n,shortcut:m,description:h,isSelectable:y,isSelected:c,isDisabled:t,selectedIcon:b,startContent:x,endContent:v,disableAnimation:S,hideSelectedIcon:s,getItemProps:w,getLabelProps:M,getDescriptionProps:k,getKeyboardShortcutProps:g,getSelectedIconProps:P}=Xe(e),l=_.useMemo(()=>{const r=u.jsx(Ye,{disableAnimation:S,isSelected:c});return typeof b=="function"?b({icon:r,isSelected:c,isDisabled:t}):b||r},[b,c,t,S]);return u.jsxs(o,{...w(),children:[x,h?u.jsxs("div",{className:f.wrapper({class:i==null?void 0:i.wrapper}),children:[u.jsx("span",{...M(),children:n}),u.jsx("span",{...k(),children:h})]}):u.jsx("span",{...M(),children:n}),m&&u.jsx("kbd",{...g(),children:m}),y&&!s&&u.jsx("span",{...P(),children:l}),v]})};ie.displayName="NextUI.MenuItem";const Pe=me(({item:e,state:o,as:f,variant:i,color:n,disableAnimation:m,onAction:h,closeOnSelect:y,className:c,classNames:t,showDivider:b=!1,hideSelectedIcon:x,dividerProps:v={},itemClasses:S,title:s,...w},M)=>{const k=f||"li",g=_.useMemo(()=>je(),[]),P=q(t==null?void 0:t.base,c),l=q(t==null?void 0:t.divider,v==null?void 0:v.className),{itemProps:r,headingProps:d,groupProps:F}=Je({heading:e.rendered,"aria-label":e["aria-label"]});return u.jsxs(k,{"data-slot":"base",...T(r,w),className:g.base({class:P}),children:[e.rendered&&u.jsx("span",{...d,className:g.heading({class:t==null?void 0:t.heading}),"data-slot":"heading",children:e.rendered}),u.jsxs("ul",{...F,className:g.group({class:t==null?void 0:t.group}),"data-has-title":!!e.rendered,"data-slot":"group",children:[[...e.childNodes].map(C=>{const{key:I,props:A}=C;let K=u.jsx(ie,{classNames:S,closeOnSelect:y,color:n,disableAnimation:m,hideSelectedIcon:x,item:C,state:o,variant:i,onAction:h,...A},I);return C.wrapper&&(K=C.wrapper(K)),K}),b&&u.jsx(Ke,{as:"li",className:g.divider({class:l}),...v})]})]})});Pe.displayName="NextUI.MenuSection";const vo=me(function(o,f){const{Component:i,state:n,closeOnSelect:m,color:h,disableAnimation:y,hideSelectedIcon:c,hideEmptyContent:t,variant:b,onClose:x,topContent:v,bottomContent:S,itemClasses:s,getBaseProps:w,getListProps:M,getEmptyContentProps:k}=Qe({...o,ref:f}),g=u.jsxs(i,{...M(),children:[!n.collection.size&&!t&&u.jsx("li",{children:u.jsx("div",{...k()})}),[...n.collection].map(P=>{const l={closeOnSelect:m,color:h,disableAnimation:y,item:P,state:n,variant:b,onClose:x,hideSelectedIcon:c,...P.props},r=We(s,l==null?void 0:l.classNames);if(P.type==="section")return u.jsx(Pe,{...l,itemClasses:r},P.key);let d=u.jsx(ie,{...l,classNames:r},P.key);return P.wrapper&&(d=P.wrapper(d)),d})]});return u.jsxs("div",{...w(),children:[v,g,S]})}),So=Ve;export{vo as M,So as a};
